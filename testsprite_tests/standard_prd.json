{
  "meta": {
    "project": "Airsoft Burza",
    "date": "2025-10-29",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Airsoft Burza is a comprehensive online marketplace and community platform specialized in airsoft and military equipment. It enables users to browse, buy, sell, and request products through listings, interact via messaging, manage their profiles, and access services such as repairs with reviews and ratings.",
  "core_goals": [
    "Provide a secure and user-friendly platform for buying and selling airsoft and military equipment products.",
    "Support detailed product listings with categorization, filtering, and dual listing types (Offer/Demand).",
    "Enable seamless user authentication and profile management.",
    "Facilitate communication between users through a real-time messaging system with file support.",
    "Offer a service listing and review system to connect users with repair services.",
    "Display notifications and platform statistics to enhance user engagement.",
    "Ensure responsive design for accessibility across devices.",
    "Implement strong security measures including input sanitization, authorization checks, and secure file uploads."
  ],
  "key_features": [
    "User Authentication with NextAuth.js supporting Google OAuth and email/password registration.",
    "Product and Listings Management with categories, filters, detailed product pages, and the ability to create, edit, activate, deactivate, and delete listings.",
    "Service Management system including service listings, detailed service profile pages, reviews with ratings, and the ability to add/edit services.",
    "Direct Messaging system allowing users to chat, send attachments, create new conversations, and close chats.",
    "User Profile pages presenting reputation, verification status, statistics, and editable personal information.",
    "Notification center displaying all user notifications with read/unread status and filtering options.",
    "Main landing page with hero section, featured products, call-to-action, and platform statistics.",
    "Responsive sidebar navigation adapting to user state (logged in/out) and device screen size.",
    "UI components and animations using Radix UI, Framer Motion, and Tailwind CSS for consistent and engaging interface.",
    "Robust error handling including custom error and not-found pages, and loading states for various data fetches.",
    "Security features such as middleware enforcing HTTPS and headers, input sanitization to prevent XSS, secure file uploads validation, spam protection for product views, and authorization checks on critical API endpoints."
  ],
  "user_flow_summary": [
    "Visitor lands on the homepage seeing overview, featured products, and platform stats; can browse products and services without login.",
    "User can register or login via Google OAuth or email/password on authentication pages.",
    "Logged-in users access sidebar navigation to manage their profile, create new product listings, view/manage their listings, access messaging and notifications, or add and review services.",
    "Users can browse product categories, filter listings, view product details with images and seller contacts, and share product links.",
    "Users can initiate or continue conversations with other users tied to products; messages support attachments and can be closed with confirmation.",
    "During product listing creation, users fill validated forms with mandatory details and upload images with size and type restrictions, then receive success notifications after submission.",
    "Users can view and interact with their active or sold listings, toggling activation state or deleting listings with confirmation dialogs.",
    "Service pages support search, filtering, adding new service with images, viewing details, and submitting reviews with ratings and comments.",
    "Notifications page displays all user alerts, which can be marked read, filtered, or deleted.",
    "Throughout all interactions, UI feedback is provided via toast notifications, loading states, and confirmation dialogs ensuring smooth user experience."
  ],
  "validation_criteria": [
    "All user inputs are validated on client and server sides, including required fields and data formats.",
    "Authentication flows securely create, retrieve, and manage user sessions with proper error handling.",
    "Product listings support full CRUD operations with image uploads validated for type, size, and count.",
    "Messaging system allows sending, receiving, and displaying messages with file attachments, including conversation creation and closure.",
    "Services and reviews endpoints correctly create, update, and display service data and user reviews with ratings.",
    "User profile editing updates data persistently and reflects changes immediately on profile pages.",
    "Notifications are properly fetched, displayed, marked as read, filtered, and deletable by the user.",
    "UI components respond correctly to various states including loading, errors, and confirmation dialogs.",
    "Security measures are enforced: middleware headers present, HTTPS redirect active, input sanitization prevents XSS, file uploads validated and stored securely, authorization checks prevent unauthorized actions.",
    "Performance considerations like view count increment limits (once per hour) with localStorage protections function correctly.",
    "Responsive design works across mobile, tablet, and desktop breakpoints with UI elements adjusting accordingly.",
    "Error handling displays custom user-friendly messages on failures or not found routes."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js 14",
      "React 18",
      "MySQL",
      "Tailwind CSS",
      "NextAuth.js",
      "Radix UI",
      "Framer Motion",
      "Lucide React",
      "React Hot Toast"
    ],
    "features": [
      {
        "name": "Autentifikace",
        "description": "Systém přihlášení a registrace uživatelů pomocí NextAuth.js s podporou OAuth (Google)",
        "files": [
          "app/api/auth/[...nextauth]/route.ts",
          "app/api/auth/register/route.ts",
          "app/auth/signin/page.tsx",
          "app/auth/signup/page.tsx",
          "lib/auth.ts"
        ]
      },
      {
        "name": "Produkty a Inzeráty",
        "description": "Systém pro správu produktů s kategoriemi, filtrováním, vyhledáváním a dual listing systémem (nabídka/poptávka)",
        "files": [
          "app/api/products/route.ts",
          "app/api/products/[id]/route.ts",
          "app/api/products/[id]/view/route.ts",
          "app/products/page.tsx",
          "app/products/[id]/page.tsx",
          "app/products/new/page.tsx",
          "app/products/airsoft-weapons/page.tsx",
          "app/products/military-equipment/page.tsx",
          "app/products/other/page.tsx",
          "app/nabidka/page.tsx",
          "app/poptavka/page.tsx",
          "app/my-products/page.tsx",
          "components/products/ProductGrid.tsx",
          "components/products/ProductSearch.tsx"
        ]
      },
      {
        "name": "Služby",
        "description": "Systém pro správu servisů s recenzemi, hodnocením a vyhledáváním",
        "files": [
          "app/api/services/route.ts",
          "app/api/services/[id]/route.ts",
          "app/api/services/[id]/reviews/route.ts",
          "app/services/page.tsx",
          "app/services/[id]/page.tsx",
          "app/services/EditServiceFormModal.tsx",
          "components/services/ServiceSearch.tsx"
        ]
      },
      {
        "name": "Komunikace a Zprávy",
        "description": "Systém přímých zpráv mezi uživateli s podporou nahrávání souborů",
        "files": [
          "app/api/messages/route.ts",
          "app/api/conversations/route.ts",
          "app/messages/page.tsx"
        ]
      },
      {
        "name": "Uživatelský Profil",
        "description": "Profil uživatele s reputací, verifikací a statistikami",
        "files": [
          "app/api/user/profile/route.ts",
          "app/api/user/stats/route.ts",
          "app/api/user/products/route.ts",
          "app/profile/page.tsx"
        ]
      },
      {
        "name": "Notifikace",
        "description": "Systém notifikací s toast zprávami a notifikačním centrem",
        "files": [
          "app/notifications/page.tsx",
          "lib/NotificationContext.tsx",
          "lib/useNotificationActions.ts",
          "components/ui/Notification.tsx",
          "components/ui/NotificationContainer.tsx"
        ]
      },
      {
        "name": "Statistiky",
        "description": "Globální a uživatelské statistiky aplikace",
        "files": [
          "app/api/stats/route.ts",
          "components/sections/StatsSection.tsx"
        ]
      },
      {
        "name": "Layout a Navigace",
        "description": "Hlavní layout aplikace s sidebar navigací a footerem",
        "files": [
          "app/layout.tsx",
          "components/layout/Sidebar.tsx",
          "components/layout/Footer.tsx",
          "app/providers.tsx"
        ]
      },
      {
        "name": "UI Komponenty",
        "description": "Sada znovupoužitelných UI komponent založených na Radix UI",
        "files": [
          "components/ui/Button.tsx",
          "components/ui/Card.tsx",
          "components/ui/Badge.tsx",
          "components/ui/LoadingSpinner.tsx",
          "components/ui/LoadingWrapper.tsx",
          "components/ui/PageLoader.tsx",
          "components/ui/PageTransition.tsx",
          "components/ui/Skeleton.tsx",
          "components/ui/ConfirmationDialog.tsx",
          "components/ui/CloseChatDialog.tsx"
        ]
      },
      {
        "name": "Hlavní Stránka",
        "description": "Hlavní landing page s hero sekcí, doporučenými produkty a CTA",
        "files": [
          "app/page.tsx",
          "components/sections/HeroSection.tsx",
          "components/sections/FeaturedProducts.tsx",
          "components/sections/CTASection.tsx"
        ]
      },
      {
        "name": "Podpora a Dokumentace",
        "description": "Stránky s FAQ, cookies, GDPR, soukromí a podmínkami",
        "files": [
          "app/support/page.tsx",
          "app/cookies/page.tsx",
          "app/gdpr/page.tsx",
          "app/privacy/page.tsx",
          "app/terms/page.tsx",
          "components/cookies/CookieConsent.tsx"
        ]
      },
      {
        "name": "Animace a Vizuální Efekty",
        "description": "Animované pozadí a page transitions",
        "files": [
          "components/AnimatedBackground.tsx",
          "components/ui/PageTransition.tsx"
        ]
      },
      {
        "name": "Error Handling",
        "description": "Zachytávání a zobrazení chyb",
        "files": [
          "app/error.tsx",
          "app/not-found.tsx",
          "app/loading.tsx"
        ]
      },
      {
        "name": "Databázové Utility",
        "description": "Utility funkce pro práci s MySQL databází",
        "files": [
          "lib/mysql.ts",
          "lib/utils.ts"
        ]
      },
      {
        "name": "Loading States",
        "description": "Správa loading stavů aplikace",
        "files": [
          "components/providers/LoadingProvider.tsx",
          "components/ui/LoadingSpinner.tsx",
          "components/ui/LoadingWrapper.tsx",
          "components/ui/PageLoader.tsx"
        ]
      }
    ]
  }
}
